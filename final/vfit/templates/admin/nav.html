<div class="fixed w-1/4 p-6 flex  flex-col items-center justify-between">
    <div class="w-full flex flex-col items-center">
        <!-- Profile Avatar Form -->
        <form id="avatar-form" method="POST" enctype="multipart/form-data" style="display: none;">
            {% csrf_token %}
            <input type="file" id="avatar-input" name="avatar" accept="image/*" style="display: none;" onchange="document.getElementById('avatar-form').submit();">
        </form>
        <div class="relative">
            {% if user.avatar %}
            <img 
                onclick="document.getElementById('avatar-input').click();" 
                class="w-32 h-32 rounded-full mr-40 border-2 mb-4 cursor-pointer object-cover" 
                src="{{ user.avatar.url }}" 
                alt="Avatar">
            {% else %}
            <img 
                onclick="document.getElementById('avatar-input').click();" 
                class="w-32 h-32 rounded-full mr-40 border-2 mb-4 cursor-pointer object-cover" 
                src="https://via.placeholder.com/150" 
                alt="Default Avatar">
            {% endif %}
            <span 
                onclick="document.getElementById('avatar-input').click();" 
                class="absolute bottom-2 mr-40 right-2 bg-gray-300 text-black rounded-full w-10 h-10 flex items-center justify-center cursor-pointer border-2">
                <i class="material-icons text-lg">edit</i>
            </span>
        </div>

        <h2 class="text-2xl mr-40 text-white">{{ user.full_name }}</h2>

        <!-- Sidebar Menu -->
        <nav class="mt-8 w-full">
            <ul>
                <!-- Dashboard -->
                <li class="flex items-center py-3 px-4 text-xl {% if request.resolver_match.url_name == 'dashboard' %}text-yellow-400 text-black{% else %}text-gray-100{% endif %}">
                    <a href="{% url 'dashboard' %}" class="flex items-center">
                        <span class="material-icons mr-3">dashboard</span> Dashboard
                    </a>
                </li>
                <!-- รายการเช่ายืม -->
                <li class="flex items-center py-3 px-4 text-xl {% if request.resolver_match.url_name == 'admin_rental_list' %}text-yellow-400 text-black{% else %}text-gray-100{% endif %}">
                    <a href="{% url 'admin_rental_list' %}" class="flex items-center">
                        <span class="material-icons mr-3">list_alt</span> รายการเช่ายืม
                    </a>
                </li>
                <!-- รายการซื้อ -->
                <li class="flex items-center py-3 px-4 text-xl {% if request.resolver_match.url_name == 'buy_history' %}text-yellow-400 text-black{% else %}text-gray-100{% endif %}">
                    <a href="{% url 'buy_history' %}" class="flex items-center">
                        <span class="material-icons mr-3">shopping_bag</span> รายการซื้อ
                    </a>
                </li>
                <!-- สินค้าในคลัง -->
                <li class="flex items-center py-3 px-4 text-xl {% if request.resolver_match.url_name == 'add_product' %} text-yellow-400{% else %}text-gray-100{% endif %}">
                    <a href="{% url 'add_product' %}" class="flex items-center">
                        <span class="material-icons mr-3">inventory</span> สินค้าในคลัง
                    </a>
                </li>
                <!-- รายการแจ้งซ่อม -->
                <li class="flex items-center py-3 px-4 text-xl {% if request.resolver_match.url_name == 'report_list' %}text-yellow-400 text-black{% else %}text-gray-100{% endif %}">
                    <a href="{% url 'report_list' %}" class="flex items-center">
                        <span class="material-icons mr-3">build</span> รายการแจ้งปัญหา
                    </a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="w-full mt-24">
        <li class="flex items-center px-4 text-xl text-white">
            <a href="{% url 'logout' %}">
                <span class="material-icons mr-3">logout</span> ออกจากระบบ
            </a>
        </li>
    </div>
</div>